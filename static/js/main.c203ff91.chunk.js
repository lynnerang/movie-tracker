(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(62)},40:function(e,t,a){},51:function(e,t,a){e.exports=a.p+"static/media/logo.23ac4eb2.png"},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),i=(a(40),a(1)),c=a.n(i),l=a(3),u=a(5),p=a(6),m=a(8),d=a(7),v=a(9),f=a(10),h=a(28),g=function(e){return{type:"ADD_TRENDING",payload:{movies:e}}},E=function(e){return{type:"ADD_TOP_RATED",payload:{movies:e}}},b=function(e){return{type:"ADD_NOW_PLAYING",payload:{movies:e}}},y=function(e){return{type:"ADD_UPCOMING",payload:{movies:e}}},w=function(e){return{type:"LOGIN",payload:{userData:e}}},N=function(e){return{type:"ADD_FAVORITES",payload:{favorites:e}}},k=a(4),O=function(){var e=Object(l.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3","/movie/").concat(t,"?api_key=").concat("756efd5dccfa3129872ac8c1887b61bc"));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch movie data.");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(c.a.mark(function e(t,a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/users/".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to post user data.");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/users/favorites/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not add favorite");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id,n=t.movie_id,e.next=3,fetch("http://localhost:3000/api/users/".concat(a,"/favorites/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not delete favorite");case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/users/".concat(t,"/favorites"));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not get favorites.");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",email:"",password:"",showErr:!1},a.getName=function(){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user-name"}),r.a.createElement("input",{className:"detail-input",name:"name",placeholder:"name",value:a.state.name,id:"user-name",onChange:a.handleChange}))},a.getErrorMsg=function(){var e="Log In"===a.props.type?"Incorrect email or password. Please try again.":"Email already exists as an account.Please log in.";return r.a.createElement("p",{className:"error"},e)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.email,o=t.password;"Log In"===a.props.type?a.getUser({email:r,password:o},""):a.getUser({name:n,email:r,password:o},"new")},a.getUser=function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t,n);case 3:r=e.sent,a.logUserIn(r,t),a.setState({showErr:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.status,e.t0.message),a.setState({showErr:!0});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.logUserIn=function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="Log In"===a.props.type?t.data:{id:t.id,email:n.email,name:n.name},a.props.login(r),localStorage.setItem("user",JSON.stringify(r)),e.next=5,M(a.props.user.id);case 5:o=e.sent,a.props.addFavorites(o.data),a.setState({name:"",email:"",password:""}),a.props.showConf("loginConf");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.showErr?this.getErrorMsg():null,t="Sign Up"===this.props.type?!this.state.name||!this.state.email||!this.state.password:!this.state.email||!this.state.password,a="Sign Up"===this.props.type?this.getName():null;return r.a.createElement("form",{className:"user-form",onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"dialog-header"},this.props.type),r.a.createElement("h4",{className:"form-header"},"Enter your details:"),r.a.createElement("label",{htmlFor:"user-email"}),a,r.a.createElement("input",{className:"detail-input",type:"email",name:"email",placeholder:"email",value:this.state.email,id:"user-email",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"user-password"}),r.a.createElement("input",{className:"detail-input",type:"password",name:"password",placeholder:"password",value:this.state.password,id:"user-password",onChange:this.handleChange}),r.a.createElement("input",{className:"login-form-btn",type:"submit",value:this.props.type,disabled:t}),e)}}]),t}(n.Component),C=Object(k.b)(function(e){return{user:e.user}},function(e){return{login:function(t){return e(w(t))},logout:function(){return e({type:"LOGOUT"})},addFavorites:function(t){return e(N(t))}}})(D),S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={dialog:null},a.closeUserForm=function(){a.setState({dialog:null})},a.showConf=function(e){a.setState({dialog:e}),setTimeout(function(){return a.setState({dialog:null})},2e3)},a.logUserOut=function(){localStorage.setItem("user",JSON.stringify({email:"",password:""})),a.showConf("logoutConf"),a.props.logout()},a.getLink=function(){return a.props.user.email?r.a.createElement("p",{role:"link",className:"login-link",onClick:a.logUserOut},"Log out"):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{role:"link",className:"login-link",onClick:function(){return a.setState({dialog:"loginForm"})}},"Login"),"/",r.a.createElement("p",{role:"link",className:"login-link",onClick:function(){return a.setState({dialog:"signupForm"})}},"Sign Up"))},a.getContent=function(){var e,t=a.state.dialog;return"loginForm"===t?e=r.a.createElement(C,{type:"Log In",showConf:a.showConf,closeUserForm:a.closeUserForm}):"signupForm"===t?e=r.a.createElement(C,{type:"Sign Up",showConf:a.showConf,closeUserForm:a.closeUserForm}):"loginConf"===t?e=r.a.createElement("p",{className:"confirmation"},"Success! You are now logged in, enjoy your movie browsing!"):"logoutConf"===t&&(e=r.a.createElement("p",{className:"confirmation"},"You are now logged out of your account.")),e},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.getLink(),t=this.getContent(),n=this.state.dialog&&r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"dialog"},r.a.createElement("i",{className:"fas fa-times popup-close-btn",onClick:this.closeUserForm}),t));return r.a.createElement("header",{className:"top-bar"},n,r.a.createElement(f.b,{exact:"true",to:"/",className:"logo-area"},r.a.createElement("img",{className:"logo-img",src:a(51),alt:"Movie-tracker-logo"}),r.a.createElement("h1",{className:"logo-text"},"MovieTracker")),r.a.createElement("div",{className:"user-area"},r.a.createElement("div",{className:"inner-search"},r.a.createElement("input",{className:"search-box",placeholder:"Search by title or keyword..."}),r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("div",{className:"user-links"},e)))}}]),t}(n.Component),A=Object(k.b)(function(e){return{user:e.user}},function(e){return{login:function(t){return e(w(t))},logout:function(){return e({type:"LOGOUT"})}}})(S),T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={genres:[],showGenres:!1,filters:[]},a.getGenreData=function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("756efd5dccfa3129872ac8c1887b61bc")).then(function(e){return e.json()}).then(function(e){return a.setState({genres:e.genres})}).catch(function(e){return console.log(e)})},a.getUserNav=function(){return r.a.createElement("nav",{className:"nav-section my-lists"},r.a.createElement("h4",{className:"nav-header"},"MY LISTS"),r.a.createElement(f.c,{className:"nav-link",exact:!0,to:"/favorites"},r.a.createElement("i",{className:"fas fa-star"}),"Favorites"),r.a.createElement("p",{className:"nav-link disabled",exact:!0,to:""},r.a.createElement("i",{className:"fas fa-eye"}),"Watchlist"),r.a.createElement("p",{className:"nav-link disabled",exact:!0,to:""},r.a.createElement("i",{className:"fas fa-hand-paper"}),"Avoidlist"),r.a.createElement("p",{className:"nav-link disabled",exact:!0,to:""},r.a.createElement("i",{className:"fas fa-clipboard-check"}),"Reviewed"))},a.getFilterNav=function(){var e=a.state.showGenres?a.state.genres.map(function(e){return r.a.createElement("div",{className:"filter-option"},r.a.createElement("input",{type:"checkbox",id:e.name}),r.a.createElement("label",{htmlFor:e.name},e.name))}):null;return r.a.createElement("nav",{className:"nav-section filter"},r.a.createElement("h4",{className:"nav-header"},"FILTERS"),r.a.createElement("p",{role:"link",className:"nav-link",name:"Trending",onClick:function(){return a.setState({showGenres:!a.state.showGenres})}},r.a.createElement("i",{className:"fas fa-plus"}),"Genre"),e,r.a.createElement("p",{role:"link",className:"nav-link",name:"Top rated"},r.a.createElement("i",{className:"fas fa-plus"}),"Avg rating"),r.a.createElement("p",{role:"link",className:"nav-link",name:"In theatres"},r.a.createElement("i",{className:"fas fa-plus"}),"Year"))},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getGenreData()}},{key:"render",value:function(){var e=this.props.user.email&&this.getUserNav(),t=this.getFilterNav();return r.a.createElement("aside",{className:"Navigation"},r.a.createElement("nav",{className:"nav-section"},r.a.createElement(f.c,{className:"nav-link home",exact:!0,to:"/"},r.a.createElement("i",{className:"fas fa-home"}),"Home")),r.a.createElement("nav",{className:"nav-section browse"},r.a.createElement("h4",{className:"nav-header"},"BROWSE"),r.a.createElement(f.c,{className:"nav-link",exact:!0,to:"/category/trending",name:"Trending"},r.a.createElement("i",{className:"fas fa-fire"}),"Trending"),r.a.createElement(f.c,{className:"nav-link",exact:!0,to:"/category/top_rated",name:"Top rated"},r.a.createElement("i",{className:"fas fa-star-half-alt"}),"Top rated"),r.a.createElement(f.c,{className:"nav-link",exact:!0,to:"/category/now_playing",name:"In theatres"},r.a.createElement("i",{className:"fas fa-ticket-alt"}),"In Theatres"),r.a.createElement(f.c,{className:"nav-link",exact:!0,to:"/category/upcoming",name:"Upcoming"},r.a.createElement("i",{className:"fas fa-certificate"}),"Upcoming")),e,t)}}]),t}(n.Component),P=Object(k.b)(function(e){return{user:e.user}})(T),F=(a(52),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.favorites.find(function(t){return t.movie_id===e.props.movie_id})?"favorited-poster":null,a="trending"===this.props.size&&"grid"!==this.props.containerType?"Poster trending":"Poster";return r.a.createElement("article",{className:a},r.a.createElement("img",{src:this.props.poster_path,alt:"".concat(this.props.title," poster"),className:"Poster-poster ".concat(t)}),r.a.createElement("h3",{className:"Poster-title"},this.props.title))}}]),t}(n.Component)),I=Object(k.b)(function(e){return{favorites:e.favorites}})(F),U=(a(53),function(e){var t="grid"===e.type?"MovieContainer-wrap":"MovieContainer-row",a=e.movies.map(function(t){return r.a.createElement(f.b,{className:"poster-link",to:"/movies/".concat(t.movie_id),key:t.movie_id},r.a.createElement(I,Object.assign({containerType:e.type,size:e.section,key:"poster".concat(t.movie_id)},t)))});return r.a.createElement("section",{className:"MovieContainer"},r.a.createElement("h2",{className:"MovieContainer-title"},e.section.split("_").join(" ")),r.a.createElement("div",{className:t},a))}),R=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return r.a.createElement(U,{movies:this.props[this.props.section],section:this.props.section,type:"grid"})}}]),t}(n.Component),L=Object(k.b)(function(e){return{trending:e.trendingMovies,top_rated:e.topRatedMovies,now_playing:e.nowPlayingMovies,upcoming:e.upcomingMovies,favorites:e.favorites}})(R),G=function(e){return e.map(function(e){return{poster_path:e.poster_path?"".concat("https://image.tmdb.org/t/p","/w300").concat(e.poster_path):null,movie_id:e.id,title:e.title}})},Y=function(e){return{poster_path:e.poster_path?"".concat("https://image.tmdb.org/t/p","/w342").concat(e.poster_path):null,backdrop:e.backdrop_path?"".concat("https://image.tmdb.org/t/p","/w1280").concat(e.backdrop_path):null,genres:e.genres.map(function(e){return e.name}).sort(),movie_id:e.id,rating:e.vote_average,title:e.original_title,language:e.original_language.toUpperCase(),releaseDate:e.release_date.slice(0,4),description:e.overview,runtime:e.runtime,popularity:e.popularity,production:e.production_companies.map(function(e){return e.name}).join(", "),boxOffice:e.revenue,cast:"/credits",recommendatoins:"/recommendations"}},B=(a(54),function(){return r.a.createElement("div",{className:"Loader-container"},r.a.createElement("div",{className:"Loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),J=a(31),V=a.n(J),W=(a(58),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={details:{},loading:!1,error:""},a.getMovieDetails=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"/movie-tracker",REACT_APP_API_KEY:"756efd5dccfa3129872ac8c1887b61bc",REACT_APP_BASE_URL:"https://api.themoviedb.org/3",REACT_APP_BASE_IMAGE_URL:"https://image.tmdb.org/t/p"}),t=e.REACT_APP_BASE_URL,n=e.REACT_APP_API_KEY;a.setState({loading:!0},Object(l.a)(c.a.mark(function e(){var r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,"/movie/").concat(a.props.id,"?api_key=").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,s=Y(o),a.props.addMovieDetails(s),a.setState({details:s,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a.setState({error:e.t0});case 15:case"end":return e.stop()}},e,null,[[0,12]])})))},a.handleClick=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.favorites.find(function(e){return e.movie_id===parseInt(a.props.id)})){e.next=6;break}return e.next=4,a.deleteFavorite();case 4:e.next=8;break;case 6:return e.next=8,a.addFavorite();case 8:return e.next=10,M(a.props.user.id);case 10:return t=e.sent,e.next=13,a.props.addFavorites(t.data);case 13:case"end":return e.stop()}},e)})),a.deleteFavorite=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:a.props.user.id,movie_id:a.state.details.movie_id},e.prev=1,e.next=4,x(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a.setState({error:e.t0});case 9:case"end":return e.stop()}},e,null,[[1,6]])})),a.addFavorite=Object(l.a)(c.a.mark(function e(){var t,n,r,o,s,i,l,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.details,n=t.title,r=t.releaseDate,o=t.poster_path,s=t.movie_id,i=t.rating,l=t.description,u={movie_id:s,user_id:a.props.user.id,poster_path:o,release_date:r,vote_average:i,title:n,overview:l},e.prev=2,e.next=5,j(u);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a.setState({error:e.t0});case 10:case"end":return e.stop()}},e,null,[[2,7]])})),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.movieDetails.find(function(t){return t.movie_id===parseInt(e.props.id)});t?this.setState({details:t}):this.getMovieDetails()}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.state.details,a=t.title,n=t.releaseDate,o=t.runtime,s=t.poster_path,i=t.backdrop,c=t.genres,l=t.rating,u=t.language,p=t.description,m=t.popularity,d=t.production,v=t.boxOffice,f=this.props.favorites.find(function(t){return t.movie_id===parseInt(e.props.id)})?"fas favorited":"far";return r.a.createElement("section",{className:"MovieDetails"},this.state.loading?r.a.createElement(B,null):r.a.createElement("div",null,r.a.createElement("div",{className:"MovieDetails-backdrop"},r.a.createElement("img",{src:i,alt:"".concat(a," backdrop")})),r.a.createElement("section",{className:"MovieDetails-content"},r.a.createElement("header",null,r.a.createElement("h1",null,a," ",r.a.createElement("span",{className:"MovieDetails-release-date"},"(",n,") ",r.a.createElement("span",null,u))),r.a.createElement("div",{className:"MovieDetails-genres"},c&&c.map(function(e,t){return r.a.createElement("p",{className:"MovieDetails-genre",key:t},e)}))),r.a.createElement("div",{className:"MovieDetails-grid"},r.a.createElement("main",{className:"MovieDetails-main"},r.a.createElement("img",{src:s,alt:"".concat(a," poster")}),r.a.createElement("div",{className:"MovieDetails-metadata"},r.a.createElement("div",{className:"StarRatings-container"},r.a.createElement(V.a,{rating:l/2||0,numberOfStars:5,starRatedColor:"#FFE000",starDimension:"30px"})),r.a.createElement("p",{className:"metadata-header"},"Runtime:"),r.a.createElement("p",{className:"metadata-info"},o," minutes"),r.a.createElement("p",{className:"metadata-header"},"Description:"),r.a.createElement("p",{className:"metadata-info"},p),r.a.createElement("p",{className:"metadata-header"},"Production Companies:"),r.a.createElement("p",{className:"metadata-info"},d),r.a.createElement("p",{className:"metadata-header"},"Popularity:"),r.a.createElement("p",{className:"metadata-info"},m),r.a.createElement("p",{className:"metadata-header"},"Box Office Gross: "),r.a.createElement("p",{className:"metadata-info"},"$",v),this.props.user.email&&r.a.createElement("p",{role:"button",onClick:this.handleClick},r.a.createElement("i",{className:"fa-heart ".concat(f)})))),r.a.createElement("section",{className:"MovieDetails-similar"},r.a.createElement("h2",null,"Similar Movies"))))))}}]),t}(n.Component)),z=Object(k.b)(function(e){return{user:e.user,movieDetails:e.movieDetails,favorites:e.favorites}},function(e){return{addMovieDetails:function(t){return e(function(e){return{type:"ADD_MOVIE_DETAILS",payload:{movie:e}}}(t))},addFavorites:function(t){return e(N(t))}}})(W),K=(a(59),Object(k.b)(function(e){return{trendingMovies:e.trendingMovies,topRatedMovies:e.topRatedMovies,nowPlayingMovies:e.nowPlayingMovies,upcomingMovies:e.upcomingMovies}})(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{movies:e.trendingMovies,section:"trending"}),r.a.createElement(U,{movies:e.topRatedMovies,section:"top_rated"}),r.a.createElement(U,{movies:e.nowPlayingMovies,section:"now_playing"}),r.a.createElement(U,{movies:e.upcomingMovies,section:"upcoming"}))})),H=function(e,t,a){return function(){var n=Object(l.a)(c.a.mark(function n(r){var o,s,i,l;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=a.trendingMovies,s=a.topRatedMovies,i=a.nowPlayingMovies,l=a.upcomingMovies,n.t0=t,n.next="popular"===n.t0?4:"top_rated"===n.t0?6:"now_playing"===n.t0?8:"upcoming"===n.t0?10:12;break;case 4:return!o.length&&r(g(e)),n.abrupt("break",13);case 6:return!s.length&&r(E(e)),n.abrupt("break",13);case 8:return!i.length&&r(b(e)),n.abrupt("break",13);case 10:return!l.length&&r(y(e)),n.abrupt("break",13);case 12:return n.abrupt("break",13);case 13:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},$=a(17),q=(a(60),function(){return r.a.createElement("div",{id:"Error"},r.a.createElement("h1",null,"404 Page Not Found :("))}),Q=(a(61),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).checkLogin=Object(l.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("user"))||{}).email){e.next=7;break}return a.props.login(t),e.next=5,M(t.id);case 5:n=e.sent,a.props.addFavorites(n.data);case 7:case"end":return e.stop()}},e)})),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getMovies("popular",this.props),this.props.getMovies("top_rated",this.props),this.props.getMovies("now_playing",this.props),this.props.getMovies("upcoming",this.props),this.checkLogin()}},{key:"render",value:function(){return r.a.createElement("section",{className:"App"},r.a.createElement(A,null),r.a.createElement("div",{className:"below-header"},r.a.createElement(P,null),r.a.createElement("main",{className:"main-content"},r.a.createElement($.c,null,r.a.createElement($.a,{exact:!0,path:"/",component:K}),r.a.createElement($.a,{exact:!0,path:"/category/:id",component:function(e){var t=e.match;return r.a.createElement(L,{section:t.params.id})}}),r.a.createElement($.a,{exact:!0,path:"/movies/:id",component:function(e){var t=e.match;return r.a.createElement(z,{id:t.params.id,key:t.params.id})}}),r.a.createElement($.a,{exact:!0,path:"/favorites",component:function(){return r.a.createElement(L,{section:"favorites"})}}),r.a.createElement($.a,{render:q})))))}}]),t}(n.Component)),X=Object(k.b)(function(e){return{trendingMovies:e.trendingMovies,topRatedMovies:e.topRatedMovies,nowPlayingMovies:e.nowPlayingMovies,upcomingMovies:e.upcomingMovies,user:e.user}},function(e){return{getMovies:function(t,a){return e(function(e,t){return function(){var a=Object(l.a)(c.a.mark(function a(n){var r,o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O(e);case 3:r=a.sent,o=G(r.results),n(H(o,e,t)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},login:function(t){return e(w(t))},addFavorites:function(t){return e(N(t))}}})(Q),Z=a(16),ee={email:"",id:0,name:"",password:""},te=a(34),ae=Object(Z.combineReducers)({trendingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRENDING":return t.payload.movies;default:return e}},topRatedMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOP_RATED":return t.payload.movies;default:return e}},nowPlayingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOW_PLAYING":return t.payload.movies;default:return e}},upcomingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_UPCOMING":return t.payload.movies;default:return e}},movieDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_MOVIE_DETAILS":return[].concat(Object(te.a)(e),[n.movie]);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload.userData;case"LOGOUT":return ee;default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_FAVORITES":return n.favorites;default:return e}}}),ne=a(32),re=a(33),oe=Object(Z.createStore)(ae,Object(ne.composeWithDevTools)(Object(Z.applyMiddleware)(re.a))),se=r.a.createElement(k.a,{store:oe},r.a.createElement(f.a,{onUpdate:function(){return window.scrollTo(0,0)}},r.a.createElement(X,null)));s.a.render(se,document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.c203ff91.chunk.js.map